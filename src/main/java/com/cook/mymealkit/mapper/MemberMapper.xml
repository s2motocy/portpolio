<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cook.mymealkit.mapper.MemberMapper">
	
	<!--회원가입 -->
  	<select id="getWithIdAndPassword" parameterType="com.cook.mymealkit.domain.MemberVO" resultType="com.cook.mymealkit.domain.MemberVO">
    	select * from  members where id=#{id} and pwd=#{pwd} 
     </select>
     
     <!--회원정보 수정 -->
	<update id="updateMember" parameterType="com.cook.mymealkit.domain.MemberVO">
        UPDATE members
        SET name = #{name},id=#{id},email = #{email}, pwd = #{pwd},pnum=#{pnum},hnum=#{hnum},address=#{address},moreaddress=#{moreaddress}
    </update>
    
    <!--회원탈퇴 -->
	<delete id="deleteMember" parameterType="com.cook.mymealkit.domain.MemberVO">
        DELETE FROM members
        WHERE id = #{id} AND pwd = #{pwd}
    </delete>
    
   	<!--관리자 전체 회원 정보 조회 -->
	<select id="getAllMembers" parameterType="com.cook.mymealkit.domain.MemberVO" resultType="com.cook.mymealkit.domain.MemberVO">
        SELECT * FROM members
    </select>
    
     <!--마이페이지 -->
    <!-- 로그인 처리를 위한 회원 정보 조회 -->
    <select id="readmember" parameterType="com.cook.mymealkit.domain.MemberVO" resultType="com.cook.mymealkit.domain.MemberVO">
        SELECT *
        FROM members
        WHERE id = #{id} AND pwd = #{pwd}
    </select>
</mapper>